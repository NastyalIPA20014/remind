import{j as e,a as s}from"./index.BEKffTCe.js";import{r as a}from"./vendor.D19QI8Si.js";import{m as t,A as l}from"./animation.CbnW-eHj.js";import{r as i,s as r,t as n,u as c}from"./icons.B27eQM06.js";const o=()=>{const[o,x]=a.useState(""),[d,m]=a.useState(null),[h,p]=a.useState(!1),u=a.useRef(null);return h?e.jsxs(t.div,{initial:{opacity:0},animate:{opacity:1},className:"h-screen bg-[var(--bg-main)] flex flex-col items-center justify-center gap-4 text-[var(--text-primary)]",children:[e.jsx(i,{size:64,className:"text-green-500"}),e.jsx("h2",{className:"text-2xl font-bold",children:"ОТЧЕТ ОТПРАВЛЕН"}),e.jsx("p",{className:"text-[var(--text-dim)]",children:"Спасибо за вашу помощь!"})]}):e.jsx("div",{className:"min-h-screen bg-[var(--bg-main)] pt-16 px-6 font-sans text-[var(--text-primary)] pb-40",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("h1",{className:"text-3xl font-black mb-2",children:"СООБЩИТЬ ОБ ОБЛАВЕ"}),e.jsxs("p",{className:"text-[var(--text-dim)] text-sm mb-8 flex items-center gap-2",children:[e.jsx(i,{size:16,className:"text-green-500"})," Ваш отчет полностью анонимен"]}),e.jsx("div",{className:"glass-card p-1 mb-4",children:e.jsx("textarea",{value:o,onChange:e=>x(e.target.value),placeholder:"Опишите ситуацию: что, где и когда произошло? Любые детали важны.",className:"w-full h-40 bg-transparent p-5 outline-none resize-none text-[var(--text-primary)] placeholder-[var(--text-dim)]"})}),e.jsx(l,{children:d&&e.jsxs(t.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"relative mb-4 w-full rounded-2xl overflow-hidden border border-[var(--border)]",children:[e.jsx("img",{src:d,className:"w-full h-auto object-cover"}),e.jsx("button",{onClick:()=>m(null),className:"absolute top-2 right-2 bg-black/50 p-1.5 rounded-full text-white",children:e.jsx(r,{size:20})})]})}),e.jsx("input",{type:"file",accept:"image/*",ref:u,onChange:e=>{if(e.target.files&&e.target.files[0]){const s=new FileReader;s.onload=e=>{m(e.target.result)},s.readAsDataURL(e.target.files[0])}},className:"hidden"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:()=>u.current.click(),className:"glass-card flex items-center justify-center gap-3 py-4 rounded-2xl font-semibold",children:[e.jsx(n,{size:20}),e.jsx("span",{children:"Фото"})]}),e.jsxs("button",{onClick:async()=>{(o||d)&&(await s.sendReport(o,d),p(!0))},className:"bg-blue-600 text-white font-black py-4 rounded-2xl shadow-lg shadow-blue-500/30 flex items-center justify-center gap-3",children:[e.jsx("span",{children:"ОТПРАВИТЬ"}),e.jsx(c,{size:18})]})]})]})})};export{o as default};
