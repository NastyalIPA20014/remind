# üîå –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É —Å–µ—Ä–≤–µ—Ä–∞ —Å iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º

## –ü—Ä–æ–±–ª–µ–º–∞

–ö–æ–≥–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º iPhone –∏–ª–∏ —ç–º—É–ª—è—Ç–æ—Ä–µ, –æ–Ω–æ –¥–æ–ª–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É. –ù–æ –ª–æ–∫–∞–ª—å–Ω—ã–π `localhost:3001` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ –ª–æ–∫–∞–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–æ–º–ø—å—é—Ç–µ—Ä–∞.

---

## –†–µ—à–µ–Ω–∏–µ 1Ô∏è‚É£: –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –æ–¥–Ω–æ–π –º–∞—à–∏–Ω–µ (Mac)

### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä

```bash
cd ~/your-projects/remi/index-oblav-v6

# –ó–∞–ø—É—Å—Ç–∏ –æ–±–∞ —Å–µ—Ä–≤–µ—Ä–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ (Vite + Express)
npm run dev
```

**–í—ã–≤–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫–∏–º:**
```
  Local:    http://localhost:5173/
  Fallback: http://127.0.0.1:5173/

  VITE v5.0.0  ready in 456 ms

  ‚ûú  local:   http://localhost:5173/
  
Server running at port 3001...
```

---

### –®–∞–≥ 2: –£–∑–Ω–∞–π IP –∞–¥—Ä–µ—Å Mac'–∞

```bash
# –ù–∞ Mac –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
ifconfig | grep "inet " | grep -v 127.0.0.1
```

**–¢—ã –ø–æ–ª—É—á–∏—à—å —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:**
```
inet 192.168.1.100 netmask 0xffffff00 broadcast 192.168.1.255
inet 192.168.50.50 netmask ...
```

**–ò—Å–ø–æ–ª—å–∑—É–π –∞–¥—Ä–µ—Å –≤ —Ñ–æ—Ä–º–∞—Ç–µ `192.168.X.X`** (–ù–ï 127.0.0.1!)

–ü—Ä–∏–º–µ—Ä: `192.168.1.100`

---

### –®–∞–≥ 3: –ò–∑–º–µ–Ω–∏ API –∞–¥—Ä–µ—Å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

**–í–∞—Ä–∏–∞–Ω—Ç A: –î–ª—è —ç–º—É–ª—è—Ç–æ—Ä–∞ (Symulator)**

```javascript
// ios/App/App/public/js/
// –ò–õ–ò –∏–∑–º–µ–Ω–∏ –≤ –∫–æ–¥–µ –ø–µ—Ä–µ–¥ —Å–±–æ—Ä–∫–æ–π: src/lib/api.js

// –ù–∞–π–¥–∏:
const API_BASE = 'http://localhost:3001'

// –ó–∞–º–µ–Ω–∏ –Ω–∞:
const API_BASE = 'http://192.168.1.100:3001'
```

**–í–∞—Ä–∏–∞–Ω—Ç B: –î–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞**

–¢–æ –∂–µ —Å–∞–º–æ–µ, –Ω–æ —É–±–µ–¥–∏—Å—å —á—Ç–æ iPhone –∏ Mac –≤ **–æ–¥–Ω–æ–π WiFi —Å–µ—Ç–∏**!

---

### –®–∞–≥ 4: –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
# –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏ –≤–µ–±-–≤–µ—Ä—Å–∏—é
npm run build

# –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π —Å iOS
npx cap sync ios

# –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏ –≤ XCode
open ios/App/App.xcworkspace
# –ù–∞–∂–º–∏ Cmd+Shift+K (Clean Build)
# –ù–∞–∂–º–∏ Cmd+B (Build)
# –ù–∞–∂–º–∏ Cmd+R (Run)
```

---

## –†–µ—à–µ–Ω–∏–µ 2Ô∏è‚É£: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ API –∞–¥—Ä–µ—Å–∞

–ß—Ç–æ–±—ã –Ω–µ –º–µ–Ω—è—Ç—å –∞–¥—Ä–µ—Å –∫–∞–∂–¥—ã–π —Ä–∞–∑, –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ**:

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ environment –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

```bash
# –°–æ–∑–¥–∞–π .env —Ñ–∞–π–ª –≤ –∫–æ—Ä–Ω–µ
echo "VITE_API_URL=http://192.168.1.100:3001" > .env.local

# –ò–ª–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
echo "VITE_API_URL=http://localhost:3001" > .env
```

–ó–∞—Ç–µ–º –≤ –∫–æ–¥–µ:
```javascript
// src/lib/api.js
const API_URL = import.meta.env.VITE_API_URL || 'http://localhost:3001'
```

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

–î–æ–±–∞–≤—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É –≤ localStorage:

```javascript
// src/lib/api.js
import { getSettings } from './api'

export const getApiUrl = async () => {
  // –ü—Ä–æ–≤–µ—Ä—å localStorage
  const savedUrl = localStorage.getItem('api_url')
  if (savedUrl) return savedUrl
  
  // –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π default
  return 'http://localhost:3001'
}
```

---

## –†–µ—à–µ–Ω–∏–µ 3Ô∏è‚É£: –ò—Å–ø–æ–ª—å–∑—É–π ngrok –¥–ª—è —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å –ø–æ–ª—É—á–∏—Ç—å **–ø—É–±–ª–∏—á–Ω—ã–π URL**, –∏—Å–ø–æ–ª—å–∑—É–π ngrok:

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ù–∞ Mac —Å Homebrew
brew install ngrok

# –ò–ª–∏ —Å–∫–∞—á–∞–π –æ—Ç—Å—é–¥–∞: https://ngrok.com/download
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# –°–æ–∑–¥–∞–π —Ç—É–Ω–Ω–µ–ª—å –Ω–∞ –ø–æ—Ä—Ç 3001
ngrok http 3001
```

**–í—ã–≤–æ–¥ –±—É–¥–µ—Ç —Ç–∞–∫–∏–º:**
```
ngrok by @inconshreveable                       (Ctrl+C to quit)

Session Status                connected
Account                       Logged in
Version                        3.0.0
Region                         eu (Eur...)
Forwarding                     https://a1b2c3d4.ngrok.io -> http://localhost:3001

Connections                    ttl     opn     rt1     rt5     p50     p95
                               0       0       0.00    0.00    0.00    0.00
```

–¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–π —ç—Ç–æ—Ç URL –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:

```javascript
// src/lib/api.js
const API_URL = 'https://a1b2c3d4.ngrok.io'  // ‚úÖ HTTPS!
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ ngrok:**
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ iPhone (–Ω–µ —Ç–æ–ª—å–∫–æ –≤ WiFi —Å–µ—Ç–∏)
- ‚úÖ HTTPS (–±–µ–∑–æ–ø–∞—Å–Ω–µ–µ)
- ‚úÖ –ú–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- ‚ùå –ú–µ–¥–ª–µ–Ω–Ω–µ–µ (–º–Ω–æ–≥–æ —Å–µ—Ç–µ–≤—ã—Ö —Ö–æ–ø–æ–≤)

---

## –†–µ—à–µ–Ω–∏–µ 4Ô∏è‚É£: –ó–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä –Ω–∞ –æ–±–ª–∞—á–Ω–æ–º —Ö–æ—Å—Ç–µ

–î–ª—è production –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.

### –í–∞—Ä–∏–∞–Ω—Ç—ã:

1. **Heroku** (–±–µ—Å–ø–ª–∞—Ç–Ω–æ, –Ω–æ –º–µ–¥–ª–µ–Ω–Ω–æ)
   ```bash
   npm install -g heroku
   heroku login
   heroku create my-index-oblav-api
   git push heroku main
   ```

2. **Railway.app** ($5/–º–µ—Å—è—Ü, –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ)
   - –ü–æ–¥–∫–ª—é—á–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π GitHub
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–π –ø—Ä–∏ push

3. **Fly.io** (–±–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–æ 3 –º–∞—à–∏–Ω)
   ```bash
   curl -L https://fly.io/install.sh | sh
   fly launch
   fly deploy
   ```

4. **AWS/GCP/Azure** (–ø–ª–∞—Ç–Ω–æ, –Ω–æ –Ω–∞–¥—ë–∂–Ω–æ)

---

## üìù –ü–æ–ª–Ω—ã–π checklist –¥–ª—è iOS –∑–∞–ø—É—Å–∫–∞

- [ ] –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω: `npm run dev` 
- [ ] –£–∑–Ω–∞–ª IP Mac'–∞: `192.168.X.X`
- [ ] –ò–∑–º–µ–Ω–∏–ª API –∞–¥—Ä–µ—Å –≤ –∫–æ–¥–µ
- [ ] –ü–µ—Ä–µ—Å–æ–±—Ä–∞–ª –≤–µ–±-–≤–µ—Ä—Å–∏—é: `npm run build`
- [ ] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–ª: `npx cap sync ios`
- [ ] –û—á–∏—Å—Ç–∏–ª –∫—ç—à: `Cmd+Shift+K` –≤ XCode
- [ ] –ó–∞–Ω–æ–≤–æ —Å–æ–±—Ä–∞–ª: `Cmd+B`
- [ ] –ó–∞–ø—É—Å—Ç–∏–ª: `Cmd+R`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã (–≤ Developer Tools)

---

## üêõ –•–æ—Ä–æ—à–æ, –Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç?

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –≤ XCode

```
View ‚Üí Debug Area ‚Üí Show Console
```

–ò—â–∏ –æ—à–∏–±–∫–∏ —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:

```
Failed to load http://192.168.1.100:3001/api/settings
Network request failed
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

–ù–∞ iPhone –æ—Ç–∫—Ä–æ–π—Å—è Settings:
```
Settings ‚Üí WiFi ‚Üí (–≤—ã–±—Ä–∞–Ω–Ω–∞—è —Å–µ—Ç—å) ‚Üí i
```

–ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ IP –∞–¥—Ä–µ—Å –µ—Å—Ç—å –∏ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ `192.168.X.X`

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–∞

–í Terminal Mac'–∞:
```bash
curl http://192.168.1.100:3001/api/settings

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON –æ—Ç–≤–µ—Ç
# {"success":true, ...}
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å firewall

Mac'–∞ –º–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:

```bash
# –û—Ç–∫—Ä–æ–π System Preferences ‚Üí Security & Privacy ‚Üí Firewall Options
# –£–±–µ–¥–∏—Å—å —á—Ç–æ Node.js —Ä–∞–∑—Ä–µ—à–µ–Ω –≤ —Å–ø–∏—Å–∫–µ
```

---

## üöÄ Production –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å

–ö–æ–≥–¥–∞ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ, –¥–ª—è production –Ω—É–∂–Ω–æ:

1. **–û–±–Ω–æ–≤–∏—Ç—å –∞–¥—Ä–µ—Å API** –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω/IP
2. **–í–∫–ª—é—á–∏—Ç—å HTTPS** (Let's Encrypt, Nginx)
3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å CORS** –¥–ª—è —Ç–æ–ª—å–∫–æ —Ç–≤–æ–µ–≥–æ –¥–æ–º–µ–Ω–∞
4. **–î–æ–±–∞–≤–∏—Ç—å rate limiting** –¥–ª—è API
5. **–í–∫–ª—é—á–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

–ü—Ä–∏–º–µ—Ä:
```javascript
// Production –∫–æ–Ω—Ñ–∏–≥
const API_URL = process.env.NODE_ENV === 'production' 
  ? 'https://api.example.com'
  : 'http://localhost:3001'
```

---

## üìû –ï—Å–ª–∏ –æ—Å—Ç–∞–ª—Å—è –≤–æ–ø—Ä–æ—Å

1. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞: `node server/index.js` (–±–µ–∑ npm run dev)
2. –ü—Ä–æ–≤–µ—Ä—å XCode Console –¥–ª—è JavaScript –æ—à–∏–±–æ–∫
3. –ò—Å–ø–æ–ª—å–∑—É–π ngrok –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
4. –í–∫–ª—é—á–∏ CORS –¥–ª—è –≤—Å–µ—Ö –≤ dev —Ä–µ–∂–∏–º–µ (–≤—Ä–µ–º–µ–Ω–Ω–æ)

```javascript
// server/index.js - –¥–ª—è –†–ê–ó–†–ê–ë–û–¢–ö–ò
const corsOptions = {
  origin: '*',  // üö® –¢–û–õ–¨–ö–û –î–õ–Ø DEV!
  credentials: true
}
app.use(cors(corsOptions))
```

```javascript
// server/index.js - –¥–ª—è PRODUCTION
const corsOptions = {
  origin: [
    'https://example.com',
    'https://app.example.com'
  ],
  credentials: true
}
app.use(cors(corsOptions))
```

---

**Good luck! üéâ**
