import{a as e,j as t}from"./index.BEKffTCe.js";import{r as a,u as s}from"./vendor.D19QI8Si.js";import{m as r}from"./animation.CbnW-eHj.js";import{p as l,q as i,c as o}from"./icons.B27eQM06.js";const n=()=>{const[n,d]=a.useState([]),[c,x]=a.useState([]),[m,u]=a.useState(""),p=s();a.useEffect(()=>{e.getNews().then(d),e.getAuthors().then(x)},[]);const b=a.useMemo(()=>n.filter(e=>e.text.toLowerCase().includes(m.toLowerCase())||e.name&&e.name.toLowerCase().includes(m.toLowerCase())),[n,m]);return t.jsxs(r.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen bg-[var(--bg-main)] pt-14 pb-28 px-4 font-sans text-[var(--text-primary)] transition-colors duration-500",children:[t.jsxs("div",{className:"flex justify-between items-end mb-6",children:[t.jsx("h1",{className:"text-3xl font-black tracking-tighter",children:"ЛЕНТА"}),t.jsxs("div",{className:"bg-red-500/10 text-red-500 px-3 py-1 rounded-full text-[10px] font-bold flex items-center gap-1 border border-red-500/20",children:[t.jsx(l,{size:12,className:"fill-red-500 animate-pulse"})," LIVE"]})]}),t.jsx("div",{className:"flex gap-4 overflow-x-auto no-scrollbar mb-6 pb-2",children:c.map(e=>t.jsxs("div",{className:"flex flex-col items-center gap-2 shrink-0 cursor-pointer group",onClick:()=>p(`/author/${e.id}`),children:[t.jsx("div",{className:"w-16 h-16 rounded-full p-[2px] bg-gradient-to-tr from-blue-500 to-purple-500 shadow-lg",children:t.jsx("div",{className:"w-full h-full rounded-full bg-[var(--bg-card)] p-[3px] overflow-hidden",children:t.jsx("img",{src:e.avatar,className:"w-full h-full rounded-full object-cover"})})}),t.jsx("span",{className:"text-[10px] text-[var(--text-dim)] truncate w-16 text-center font-medium",children:e.name})]},e.id))}),t.jsxs("div",{className:"relative mb-6",children:[t.jsx(i,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[var(--text-dim)]",size:18}),t.jsx("input",{value:m,onChange:e=>u(e.target.value),placeholder:"Поиск...",className:"w-full bg-[var(--glass)] border border-[var(--border)] rounded-[20px] py-3 pl-12 pr-4 text-sm text-[var(--text-primary)] placeholder-[var(--text-dim)] outline-none focus:border-blue-500/50 transition shadow-sm"})]}),t.jsx("div",{className:"space-y-4",children:b.map((e,a)=>t.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*a},className:"p-5 rounded-[24px] shadow-lg relative overflow-hidden group border transition-all glass-card "+(e.is_highlighted?"border-l-4 border-l-yellow-500":""),onClick:()=>p(`/author/${e.author_id}`),children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("img",{src:e.avatar,className:"w-10 h-10 rounded-full object-cover border border-[var(--border)]"}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"font-bold text-sm "+(e.is_highlighted?"text-yellow-500":"text-[var(--text-primary)]"),children:e.name}),1==e.is_verified&&t.jsx(o,{size:12,className:"text-blue-500 fill-blue-500/20"})]}),t.jsxs("div",{className:"text-[10px] text-[var(--text-dim)] font-mono",children:["@",e.handle]})]}),t.jsx("div",{className:"ml-auto text-[10px] text-[var(--text-dim)]",children:new Date(e.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),t.jsx("p",{className:"text-sm leading-relaxed text-[var(--text-primary)] mb-3",children:e.text}),e.image&&t.jsx("img",{src:e.image,className:"mt-3 rounded-xl w-full border border-[var(--border)] object-cover max-h-64"}),e.btn_text&&t.jsx("button",{onClick:t=>{t.stopPropagation(),e.btn_link&&(e.btn_link.startsWith("/")?p(e.btn_link):window.open(e.btn_link,"_blank"))},className:"mt-4 w-full bg-blue-500/10 text-blue-500 font-bold py-2 rounded-xl text-xs uppercase hover:bg-blue-500 hover:text-white transition",children:e.btn_text})]},e.id))})]})};export{n as default};
